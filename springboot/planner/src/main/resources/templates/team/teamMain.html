<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
	<meta charset="UTF-8"/>
	<title>그룹 페이지</title>
	<style>
	* {
		margin:0;
		padding:0;
	}
	body{
		width:1200px;
		margin:0 auto;
	}
	.float-left{
		float:left;
	}
	.float-clear:after{
		content:'';
		display:block;
		clear:both;
	}
	.font-small{
		font-size:0.7em;
	}
	.font-gray{
		color:gray;
	}
	.team-item{
		width:100px;
		min-height:125px;
		margin:5px;
		text-align:center;
	}
	.team-item:has(a){
		background-color:rgba(128, 128, 128, 0.15);
        display:flex;
        justify-content:center;
        align-items:center;
	}
	.team-link{
		cursor:pointer;
	}
	a{
		text-decoration:none;
		color:blue;
	}
	</style>
</head>
<body>
<h1>그룹 메인</h1>
<div class="float-clear">
	<div class="float-left team-item">
	<span>
		<a href="/team/create">그룹<br>생성</a>
	</span>
	</div>
	<div class="float-left team-item">
		<a href="/team/search">그룹<br>찾기</a>
	</div>
	<!-- 누르면 그룹 게시판?으로 이동 -->
	<div class="float-left team-item" th:each="dto : ${teamList}" th:classappend="${dto.tm_grade} != 'WAIT' ? 'team-link'" th:data-team_id="${dto.team_id}">
		<img th:if="${dto.team_image} != null" th:src="'/team/img?img='+${dto.team_image}" th:alt="${dto.team_name}+' 그룹의 이미지'">
		<img th:if="${dto.team_image} == null" src="/images/team_default.png" alt="기본이미지"></img>
		<p th:text="${dto.team_name}"></p>
		<p th:if="${dto.tm_grade} == 'WAIT'" class="font-small font-gray">가입대기중</p>
	</div>
</div>
<script>
	const team_link = document.querySelectorAll(".team-link");
	team_link.forEach(e => {
		e.addEventListener("click", function(){
			let team_id = this.dataset.team_id;
			window.location.href = "/team/board/list?team_id="+team_id;
		});
	});
</script>
</body>
</html>